<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>nishu</title>

  
  <meta name="author" content="nishu">
  

  

  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  

  <meta property="og:site_name" content="nishu"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="nishu" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">nishu</a>
    </h1>
    <p class="site-description"></p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">Home</a></li>
      
        <li><a href="/archives">Archives</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    
  <article>

  
    
    <h3 class="article-title"><a href="/2018/01/01/JavaScript-Tips/"><span>JavaScript Tips</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2018/01/01/JavaScript-Tips/" rel="bookmark">
        <time class="entry-date published" datetime="2018-01-01T05:47:30.000Z">
          2018-01-01
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <hr>
<h2 id="获取数组的最后一个元素"><a href="#获取数组的最后一个元素" class="headerlink" title="获取数组的最后一个元素"></a>获取数组的最后一个元素</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 获取数组的最后一个元素</span></div><div class="line"><span class="keyword">let</span> array = [ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span> ]</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(array.slice(<span class="number">-1</span>)) <span class="comment">// [6]</span></div></pre></td></tr></table></figure>
<hr>
<h2 id="显式的块"><a href="#显式的块" class="headerlink" title="显式的块"></a>显式的块</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (foo) &#123;</div><div class="line">    &#123; <span class="comment">// &lt;-- 显式的块</span></div><div class="line">        <span class="keyword">let</span> bar = foo * <span class="number">2</span>;</div><div class="line">        bar = something( bar ); <span class="built_in">console</span>.log( bar );</div><div class="line">    &#125; </div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">process</span>(<span class="params">data</span>) </span>&#123;</div><div class="line">    <span class="comment">// 在这里做点有趣的事情</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 在这个块中定义的内容可以销毁了! </span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">let</span> someReallyBigData = &#123; .. &#125;; </div><div class="line">    process( someReallyBigData );</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">"my_button"</span>);</div><div class="line"></div><div class="line">btn.addEventListener( <span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> <span class="title">click</span>(<span class="params">evt</span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"button clicked"</span>);</div><div class="line">&#125;, <span class="comment">/*capturingPhase=*/</span><span class="literal">false</span> );</div></pre></td></tr></table></figure>
<hr>
<h2 id="通用验证函数"><a href="#通用验证函数" class="headerlink" title="通用验证函数"></a>通用验证函数</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 对象验证规则</span></div><div class="line"><span class="keyword">const</span> schema = &#123;</div><div class="line">    first: &#123;</div><div class="line">        required: <span class="literal">true</span></div><div class="line">    &#125;,</div><div class="line">    last: &#123;</div><div class="line">        required: <span class="literal">true</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 通用验证函数</span></div><div class="line"><span class="keyword">const</span> validate = (schema, values) =&gt; &#123;</div><div class="line"></div><div class="line">    <span class="keyword">for</span> (field <span class="keyword">in</span> schema) &#123;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (schema[field].required) &#123;</div><div class="line"></div><div class="line">            <span class="keyword">if</span> (!values[field]) &#123;</div><div class="line"></div><div class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(validate(schema, &#123;first:<span class="string">'Bruce'</span>&#125;)); <span class="comment">// false</span></div><div class="line"><span class="built_in">console</span>.log(validate(schema, &#123;first:<span class="string">'Bruce'</span>, last: <span class="string">'Laser'</span>&#125;)); <span class="comment">//true</span></div></pre></td></tr></table></figure>
      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2016/10/27/ECMAScript 6(下)/"><span>ECMAScript 6(下)</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2016/10/27/ECMAScript 6(下)/" rel="bookmark">
        <time class="entry-date published" datetime="2016-10-27T03:59:53.000Z">
          2016-10-27
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <ul>
<li>增强的对象字面量</li>
<li>箭头函数</li>
<li>Promise</li>
<li>Class</li>
<li>Module</li>
</ul>
<hr>
<h3 id="增强的对象字面量"><a href="#增强的对象字面量" class="headerlink" title="增强的对象字面量"></a>增强的对象字面量</h3><p>定义属性简写，允许只写属性名，不写属性值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// es6</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">x, y</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> &#123;x, y&#125;;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// es5</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">x, y</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> &#123;x: x, y: y&#125;;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>定义方法简写</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// es6</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> person = &#123;</div><div class="line">    getName() &#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'name'</span>);</div><div class="line">    &#125;,</div><div class="line">    getAge() &#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'age'</span>);</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">// es5</span></div><div class="line"><span class="keyword">var</span> person = &#123;</div><div class="line">    getName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'name'</span>);</div><div class="line">    &#125;,</div><div class="line">    getAge: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'age'</span>);</div><div class="line">    &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>允许在对象字面量里面定义原型</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> person = &#123;</div><div class="line">    getName: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'name'</span>);</div><div class="line">    &#125;,</div><div class="line">    getAge: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">'age'</span>);</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">var</span> worker = &#123;</div><div class="line">    __proto__: person, <span class="comment">//相当于继承person</span></div><div class="line">    company: <span class="string">'supernano'</span></div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h3><h4 id="一、"><a href="#一、" class="headerlink" title="一、"></a>一、</h4><p>箭头函数就是个简写形式的 <strong>函数表达式</strong>，箭头函数总是匿名的。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// es6</span></div><div class="line"></div><div class="line">(...nameArgs) =&gt; nameArgs.join(<span class="string">' '</span>);</div><div class="line"></div><div class="line"><span class="comment">// es5</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> (<span class="params">firstName, lastName</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> firstName + <span class="string">' '</span> +lastName;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>箭头函数默认返回单个语句的结果。如果超过了一行，将需要明确使用 <code>return</code>。</p>
<h4 id="二、"><a href="#二、" class="headerlink" title="二、"></a>二、</h4><p>箭头函数拥有词法作用域的this值（即不会新产生自己作用域下的this, arguments, super 和 new.target 等对象）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// error</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.age = <span class="number">0</span>;</div><div class="line"></div><div class="line">    setInterval(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">this</span>.age++; </div><div class="line">    &#125;, <span class="number">1000</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person();</div><div class="line"></div><div class="line"><span class="comment">// es5</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> self = <span class="keyword">this</span>;</div><div class="line">    self.age = <span class="number">0</span>;</div><div class="line"></div><div class="line">    setInterval(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        self.age++; </div><div class="line">    &#125;, <span class="number">1000</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person();</div><div class="line"></div><div class="line"><span class="comment">// or</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.age = <span class="number">0</span>;</div><div class="line"></div><div class="line">    setInterval(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">        <span class="keyword">this</span>.age++; </div><div class="line">    &#125;.bind(<span class="keyword">this</span>), <span class="number">1000</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person();</div><div class="line"></div><div class="line"><span class="comment">// es6</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.age = <span class="number">0</span>;</div><div class="line"></div><div class="line">    setInterval(() =&gt; &#123;</div><div class="line">        <span class="keyword">this</span>.age++; </div><div class="line">    &#125;, <span class="number">1000</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> Person();</div></pre></td></tr></table></figure>
<h3 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h3><p>Promise是JavaScript异步操作解决方案，允许将回调函数的嵌套，改成链式调用。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 传统写法</span></div><div class="line"></div><div class="line">step1(<span class="function"><span class="keyword">function</span> (<span class="params">value1</span>) </span>&#123;</div><div class="line">  step2(value1, <span class="function"><span class="keyword">function</span>(<span class="params">value2</span>) </span>&#123;</div><div class="line">    step3(value2, <span class="function"><span class="keyword">function</span>(<span class="params">value3</span>) </span>&#123;</div><div class="line">      step4(value3, <span class="function"><span class="keyword">function</span>(<span class="params">value4</span>) </span>&#123;</div><div class="line">        <span class="comment">// ...</span></div><div class="line">      &#125;);</div><div class="line">    &#125;);</div><div class="line">  &#125;);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// Promises的写法</span></div><div class="line"></div><div class="line">(<span class="keyword">new</span> <span class="built_in">Promise</span>(step1))</div><div class="line">  .then(step2)</div><div class="line">  .then(step3)</div><div class="line">  .then(step4);</div></pre></td></tr></table></figure>
<p>Generator 函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> *<span class="title">asyncJob</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> f = <span class="keyword">yield</span> readFile(fileA);</div><div class="line">  <span class="built_in">console</span>.log(f);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>async/await</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> asyncReadFile = <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> f1 = <span class="keyword">await</span> readFile(<span class="string">'/etc/fstab'</span>);</div><div class="line">  <span class="keyword">var</span> f2 = <span class="keyword">await</span> readFile(<span class="string">'/etc/shells'</span>);</div><div class="line">  <span class="built_in">console</span>.log(f1.toString());</div><div class="line">  <span class="built_in">console</span>.log(f2.toString());</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="Class"><a href="#Class" class="headerlink" title="Class"></a>Class</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// es5</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> Shape = <span class="function"><span class="keyword">function</span> (<span class="params">id, x, y</span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.id = id;</div><div class="line">    <span class="keyword">this</span>.move(x, y);</div><div class="line">&#125;;</div><div class="line"></div><div class="line">Shape.prototype.move = <span class="function"><span class="keyword">function</span> (<span class="params">x, y</span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.x = x;</div><div class="line">    <span class="keyword">this</span>.y = y;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">// es6</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Shape</span> </span>&#123;</div><div class="line">    <span class="keyword">constructor</span> (id, x, y) &#123;</div><div class="line">        <span class="keyword">this</span>.id = id;</div><div class="line">        <span class="keyword">this</span>.move(x, y);</div><div class="line">    &#125;</div><div class="line">    move (x, y) &#123;</div><div class="line">        <span class="keyword">this</span>.x = x;</div><div class="line">        <span class="keyword">this</span>.y = y;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>继承<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// es6</span></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span> <span class="keyword">extends</span> <span class="title">Shape</span> </span>&#123;</div><div class="line">    <span class="keyword">constructor</span> (id, x, y, width, height) &#123;</div><div class="line">        <span class="keyword">super</span>(id, x, y);</div><div class="line">        <span class="keyword">this</span>.width  = width;</div><div class="line">        <span class="keyword">this</span>.height = height;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// es5</span></div><div class="line"><span class="keyword">var</span> Rectangle = <span class="function"><span class="keyword">function</span> (<span class="params">id, x, y, width, height</span>) </span>&#123;</div><div class="line">    Shape.call(<span class="keyword">this</span>, id, x, y);</div><div class="line">    <span class="keyword">this</span>.width  = width;</div><div class="line">    <span class="keyword">this</span>.height = height;</div><div class="line">&#125;;</div><div class="line">Rectangle.prototype = <span class="built_in">Object</span>.create(Shape.prototype);</div><div class="line">Rectangle.prototype.constructor = Rectangle;</div></pre></td></tr></table></figure></p>
<h3 id="Module"><a href="#Module" class="headerlink" title="Module"></a>Module</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//  lib/math.js</span></div><div class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">sum</span> (<span class="params">x, y</span>) </span>&#123; <span class="keyword">return</span> x + y &#125;;</div><div class="line"><span class="keyword">export</span> <span class="keyword">var</span> pi = <span class="number">3.141593</span>;</div><div class="line"></div><div class="line"><span class="comment">//  someApp.js</span></div><div class="line"><span class="keyword">import</span> * <span class="keyword">as</span> math <span class="keyword">from</span> <span class="string">"lib/math"</span>;</div><div class="line"><span class="built_in">console</span>.log(<span class="string">"2π = "</span> + math.sum(math.pi, math.pi));</div><div class="line"></div><div class="line"><span class="comment">//  otherApp.js</span></div><div class="line"><span class="keyword">import</span> &#123; sum, pi &#125; <span class="keyword">from</span> <span class="string">"lib/math"</span>;</div><div class="line"><span class="built_in">console</span>.log(<span class="string">"2π = "</span> + sum(pi, pi));</div></pre></td></tr></table></figure>
      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/ES6-ES2015/">ES6, ES2015</a>
    </span>
    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2016/09/27/ECMAScript 6(上)/"><span>ECMAScript 6(上)</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2016/09/27/ECMAScript 6(上)/" rel="bookmark">
        <time class="entry-date published" datetime="2016-09-27T03:59:53.000Z">
          2016-09-27
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <ul>
<li>常量</li>
<li>块级作用域</li>
<li>解构赋值</li>
<li>模板对象</li>
<li>默认参数、剩余参数、展开运算符</li>
</ul>
<hr>
<h3 id="一、支持常量"><a href="#一、支持常量" class="headerlink" title="一、支持常量"></a>一、支持常量</h3><p><code>const</code> 声明一个常量，仅允许被赋值一次。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// es6</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> game = “RPG”;</div><div class="line"></div><div class="line">game = “FPS”; <span class="comment">// error</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// es5</span></div><div class="line"></div><div class="line"><span class="built_in">Object</span>.defineProperty(<span class="keyword">typeof</span> global === <span class="string">"object"</span> ? global : <span class="built_in">window</span>, <span class="string">"game"</span>, &#123;</div><div class="line">    value: <span class="string">"RPG"</span>,</div><div class="line">    enumerable: <span class="literal">true</span>,</div><div class="line">    writable: <span class="literal">false</span>,</div><div class="line">    configurable: <span class="literal">false</span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="二、块级作用域"><a href="#二、块级作用域" class="headerlink" title="二、块级作用域"></a>二、块级作用域</h3><p><code>let</code> 所声明的变量，只在 <code>let</code> 命令所在的代码块内有效。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// es6</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> HP = <span class="number">10</span>;</div><div class="line"></div><div class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</div><div class="line">    <span class="keyword">let</span> HP = <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(HP) <span class="comment">// 10</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// es5</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> HP = <span class="number">10</span>;</div><div class="line"></div><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line"></div><div class="line">    <span class="keyword">if</span> (<span class="literal">true</span>) &#123;</div><div class="line">        <span class="keyword">var</span> HP = <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;())</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(HP) <span class="comment">// 10</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> combo = []; </div><div class="line"></div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123; </div><div class="line">    combo[i] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log(i); &#125;; </div><div class="line">&#125;</div><div class="line"></div><div class="line">combo[<span class="number">6</span>](); <span class="comment">// 10</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// es6</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> combo = [];</div><div class="line"></div><div class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</div><div class="line">    combo[i] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log(i); &#125;;</div><div class="line">&#125;</div><div class="line"></div><div class="line">combo[<span class="number">6</span>](); <span class="comment">// 6</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// es5</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> combo = []; </div><div class="line"></div><div class="line"><span class="keyword">var</span> fn = <span class="function"><span class="keyword">function</span>(<span class="params">i</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log(i); &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</div><div class="line">    combo[i] = fn(i);</div><div class="line">&#125;</div><div class="line"></div><div class="line">combo[<span class="number">6</span>](); <span class="comment">// 6</span></div></pre></td></tr></table></figure>
<p>不存在变量提升</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">console</span>.log(player); <span class="comment">// undefined</span></div><div class="line"><span class="built_in">console</span>.log(gender);    <span class="comment">// ReferenceError</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> player = <span class="string">"soldier"</span>;</div><div class="line"><span class="keyword">let</span> gender = <span class="string">"man"</span>;</div></pre></td></tr></table></figure>
<p>全局对象的属性</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> boss = <span class="string">"dragon"</span>;</div><div class="line"><span class="built_in">window</span>.boss <span class="comment">// dragon</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> npc = <span class="string">"panda"</span>;</div><div class="line"><span class="built_in">window</span>.npc  <span class="comment">// undefined</span></div></pre></td></tr></table></figure>
<h3 id="三、解构赋值"><a href="#三、解构赋值" class="headerlink" title="三、解构赋值"></a>三、解构赋值</h3><h4 id="数组解构赋值"><a href="#数组解构赋值" class="headerlink" title="数组解构赋值"></a>数组解构赋值</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// es5</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> helmet = <span class="number">50</span>;</div><div class="line"><span class="keyword">var</span> jacket = <span class="number">80</span>;</div><div class="line"><span class="keyword">var</span> trouser = <span class="number">40</span>;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// es6</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> [helmet, jacket, trouser] = [<span class="number">50</span>, <span class="number">80</span>, <span class="number">40</span>];</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> [jacket] = [];</div><div class="line"><span class="keyword">var</span> [helmet, jacket] = [<span class="number">50</span>];</div><div class="line"></div><div class="line">jacket <span class="comment">// undefined</span></div></pre></td></tr></table></figure>
<p>支持默认值设置<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> [firstLine, secondLine = <span class="string">'over'</span>] = [<span class="string">'game'</span>];</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(firstLine, secondLine); <span class="comment">// game over</span></div></pre></td></tr></table></figure></p>
<h4 id="对象解构赋值"><a href="#对象解构赋值" class="headerlink" title="对象解构赋值"></a>对象解构赋值</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> &#123; blade, sword &#125; = &#123; blade: <span class="number">1000</span>, sword: <span class="number">800</span> &#125;;</div><div class="line"></div><div class="line">blade <span class="comment">// 1000</span></div><div class="line">sword <span class="comment">// 800</span></div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> &#123; blade: b, sword: s &#125; = &#123; blade: <span class="number">1000</span>, sword: <span class="number">800</span> &#125;;</div><div class="line"></div><div class="line">b <span class="comment">// 1000</span></div><div class="line">s <span class="comment">// 800</span></div></pre></td></tr></table></figure>
<h4 id="字符串解构赋值"><a href="#字符串解构赋值" class="headerlink" title="字符串解构赋值"></a>字符串解构赋值</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> [a, b, c, d] = <span class="string">"good"</span>;</div><div class="line"></div><div class="line">a <span class="comment">// g</span></div><div class="line">b <span class="comment">// o</span></div><div class="line">c <span class="comment">// o</span></div><div class="line">d <span class="comment">// d</span></div></pre></td></tr></table></figure>
<h4 id="函数参数解构赋值"><a href="#函数参数解构赋值" class="headerlink" title="函数参数解构赋值"></a>函数参数解构赋值</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">safety</span>(<span class="params">[x, y, z]</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> x + y + z;</div><div class="line">&#125;</div><div class="line"></div><div class="line">safety([<span class="number">50</span>, <span class="number">80</span>, <span class="number">40</span>]); <span class="comment">// 170</span></div></pre></td></tr></table></figure>
<h4 id="实际用途"><a href="#实际用途" class="headerlink" title="实际用途"></a>实际用途</h4><h5 id="交换变量的值"><a href="#交换变量的值" class="headerlink" title="交换变量的值"></a>交换变量的值</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[helmet, jacket] = [jacket, helmet];</div></pre></td></tr></table></figure>
<h5 id="定义函数参数"><a href="#定义函数参数" class="headerlink" title="定义函数参数"></a>定义函数参数</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 参数是一组有次序的值</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">safety</span>(<span class="params">[x, y, z]</span>) </span>&#123;</div><div class="line">     ... </div><div class="line">&#125;</div><div class="line">safety([<span class="number">50</span>, <span class="number">80</span>, <span class="number">40</span>]);</div><div class="line"></div><div class="line"><span class="comment">// 参数是一组无次序的值</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">safety</span>(<span class="params">&#123;x, y, z&#125;</span>) </span>&#123; </div><div class="line">    ... </div><div class="line">&#125;</div><div class="line">safety(&#123;z: <span class="number">40</span>, y: <span class="number">80</span>, x: <span class="number">50</span>&#125;);</div></pre></td></tr></table></figure>
<h5 id="载入模块"><a href="#载入模块" class="headerlink" title="载入模块"></a>载入模块</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> &#123; action, numerical &#125; = <span class="built_in">require</span>(<span class="string">"fighting"</span>);</div></pre></td></tr></table></figure>
<h3 id="四、模板对象"><a href="#四、模板对象" class="headerlink" title="四、模板对象"></a>四、模板对象</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// es5</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> targetText = player + <span class="string">'，你的任务是打败'</span> + boss;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// es6</span></div><div class="line"></div><div class="line"><span class="keyword">let</span> targetText = <span class="string">`<span class="subst">$&#123;player&#125;</span>，你的任务是打败<span class="subst">$&#123;boss&#125;</span>`</span>;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> targetText = <span class="string">`\`<span class="subst">$&#123;player&#125;</span>\`，你的任务是打败<span class="subst">$&#123;boss&#125;</span>`</span>;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getBoss</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> boss;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> targetText = <span class="string">`\`<span class="subst">$&#123;player&#125;</span>\`，你的任务是打败<span class="subst">$&#123;getBoss()&#125;</span>`</span>;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> targetText = <span class="string">`恭喜您，您的剑强化成功，当前攻击力为<span class="subst">$&#123;sword * 2&#125;</span>`</span>;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//es5</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> story = <span class="string">'从前多来国有一个很漂亮的女孩，'</span></div><div class="line">        + <span class="string">'她和母亲在村庄过着幸福快乐的日子，'</span></div><div class="line">        + <span class="string">'可是有一天，东边的山贼来到村庄掠夺村民的粮食，还放火烧了农庄，'</span></div><div class="line">        + <span class="string">'山贼看见了女孩的美貌起了歹念，想侵犯这女孩的身体，'</span></div><div class="line">        + <span class="string">'就在这时一个年轻男孩骑着白色战马拿着利剑朝山贼们冲来，'</span></div><div class="line">        + <span class="string">'铁蹄声刮破了夜晚的宁静，刀光剑影中山贼们落荒而逃。'</span>;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// es6</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> story = <span class="string">`从前多来国有一个很漂亮的女孩，</span></div><div class="line">        她和母亲在村庄过着幸福快乐的日子，</div><div class="line">        可是有一天，东边的山贼来到村庄掠夺村民的粮食，还放火烧了农庄，</div><div class="line">        山贼看见了女孩的美貌起了歹念，想侵犯这女孩的身体，</div><div class="line">        就在这时一个年轻男孩骑着白色战马拿着利剑朝山贼们冲来，</div><div class="line">        铁蹄声刮破了夜晚的宁静，刀光剑影中山贼们落荒而逃。</div><div class="line">        `;</div></pre></td></tr></table></figure>
<h3 id="五、默认参数、剩余参数、展开运算符"><a href="#五、默认参数、剩余参数、展开运算符" class="headerlink" title="五、默认参数、剩余参数、展开运算符"></a>五、默认参数、剩余参数、展开运算符</h3><p>默认参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// es5</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">countDamage</span> (<span class="params">normalAttack, criticalAttack, magicAttack</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> attack = magicAttack || <span class="number">800</span>;</div><div class="line">    <span class="keyword">return</span> normalAttack + criticalAttack + attack;</div><div class="line">&#125;</div><div class="line"></div><div class="line">countDamage(normalAttack, criticalAttack);</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// es6</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">countDamage</span> (<span class="params">normalAttack, criticalAttack, magicAttack ＝ 800</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> normalAttack + criticalAttack + magicAttack;</div><div class="line">&#125;</div><div class="line"></div><div class="line">countDamage(normalAttack, criticalAttack);</div></pre></td></tr></table></figure>
<p>剩余参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// es6</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">countDamage</span> (<span class="params">normalAttack, ...otherAttack</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> normalAttack + otherAttack[<span class="number">0</span>] + otherAttack[<span class="number">1</span>];</div><div class="line">&#125;</div><div class="line"></div><div class="line">countDamage(normalAttack, criticalAttack, magicAttack);</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// es5</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">countDamage</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> attack = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>, countDamage.lenght);</div><div class="line"></div><div class="line">    <span class="keyword">return</span> attack.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">previousValue, currentValue, index, array</span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> previousValue + currentValue;</div><div class="line">    &#125;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">countDamage(normalAttack, criticalAttack, magicAttack);</div></pre></td></tr></table></figure>
<p>展开运算符</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// es6</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">countDamage</span> (<span class="params">normalAttack, criticalAttack, magicAttack</span>) </span>&#123;</div><div class="line">    ...</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> args = [<span class="number">1000</span>, <span class="number">2000</span>, <span class="number">800</span>];</div><div class="line"></div><div class="line">countDamage(...args);</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">// es5</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">countDamage</span> (<span class="params">normalAttack, criticalAttack, magicAttack</span>) </span>&#123;</div><div class="line">    ...</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> args = [<span class="number">1000</span>, <span class="number">2000</span>, <span class="number">800</span>];</div><div class="line"></div><div class="line">countDamage.apply(<span class="literal">null</span>, args);</div></pre></td></tr></table></figure>
      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/ES6-ES2015/">ES6, ES2015</a>
    </span>
    

    </div>

    
  </div>
</article>



  <article>

  
    
    <h3 class="article-title"><a href="/2016/08/27/Ulysses-code-blocks-highlighting/"><span>Ulysses代码块高亮实现</span></a></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2016/08/27/Ulysses-code-blocks-highlighting/" rel="bookmark">
        <time class="entry-date published" datetime="2016-08-27T03:59:53.000Z">
          2016-08-27
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p><img src="http://img.xclient.info/attachment/2016/01/e8f5f7f7-32b1-1ad2-8f62-c99951e99c25.png" alt=""></p>
<p>Ulysses是一款非常优秀的写作应用，由于支持Markdown写作，让不少开发人员选择它作为日常写作和技术文档撰写的工具。</p>
<p>Ulysses默认不支持GitHub Flavored Markdown (GFM)语法的<code>``` </code>代码块标记，不过我们可以在前面加两个波浪来实现这个效果：<code>~~``` </code></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/Markdown/">Markdown</a>
    </span>
    

    </div>

    
  </div>
</article>




<nav class="pagination">
  
  
</nav>
    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2018 nishu
    
  </p>
</footer>
    
  </div>
</div>
</body>
</html>